"use strict";(self.webpackChunkPorscheDesignSystem_3_13_0=self.webpackChunkPorscheDesignSystem_3_13_0||[]).push([["modal"],{7620:(t,o,e)=>{e.d(o,{b:()=>s});const s="8px"},6760:(t,o,e)=>{e.d(o,{c:()=>i,h:()=>s});const s={"&([hidden])":{display:"none"}},i={colorScheme:"light dark"}},6429:(t,o,e)=>{e.d(o,{B:()=>r,F:()=>a,M:()=>i,P:()=>n,T:()=>s});const s=999999,i=99999,a=99998,n=9999,r=99},5758:(t,o,e)=>{e.d(o,{a:()=>s,f:()=>i});const s="'Porsche Next','Arial Narrow',Arial,'Heiti SC',SimHei,sans-serif",i="calc(6px + 2.125ex)"},7152:(t,o,e)=>{e.d(o,{f:()=>s});const s=e(1078).f},1078:(t,o,e)=>{e.d(o,{f:()=>s});const s="clamp(1.27rem, 0.51vw + 1.16rem, 1.78rem)"},6557:(t,o,e)=>{e.d(o,{a:()=>i,f:()=>s});const s="normal",i="normal"},609:(t,o,e)=>{e.d(o,{f:()=>s});const s=600},3231:(t,o,e)=>{e.d(o,{g:()=>i});var s=e(7442);const i=(t,o)=>(0,s.S)(t,`[slot="${o}"]`)},6553:(t,o,e)=>{e.d(o,{_:()=>a,a:()=>n,b:()=>s,c:()=>i,g:()=>r});const s="2560px",i="max(22px, 10.625vw - 12px)",a="calc(5vw - 16px)",n="min(50vw - 880px, 400px)",r=i},1479:(t,o,e)=>{e.d(o,{h:()=>i});e(7442);var s=e(2545);const i=(t,o)=>!!o||(0,s.h)(t,"heading")},2545:(t,o,e)=>{e.d(o,{h:()=>i});var s=e(3231);const i=(t,o)=>!!(0,s.g)(t,o)},5241:(t,o,e)=>{e.d(o,{_:()=>n,a:()=>r});var s=e(5758),i=e(609),a=e(6557);const n=`${a.f} ${a.a} ${i.f} `,r=`/${s.f} ${s.a}`},4026:(t,o,e)=>{e.d(o,{g:()=>i});var s=e(7442);const i=(t,o)=>`${o} is deprecated for component ${(0,s.j)(t)} and will be removed with next major release.`},74:(t,o,e)=>{e.d(o,{h:()=>s});const s=t=>({"@media(hover:hover)":t})},6916:(t,o,e)=>{e.d(o,{a:()=>s,s:()=>i});const s="rgba(204, 204, 204, 0.35)",i="rgba(0, 0, 0, 0.6)"},909:(t,o,e)=>{e.r(o),e.d(o,{p_modal:()=>O});var s=e(7442),i=e(2545),a=e(1479),n=e(5816),r=e(2048),d=e(6339),l=e(6916),h=e(6760),c=e(74),p=e(6429),f=e(5241),m=e(7152),u=e(6553),b=e(7620);e(3231),e(4026);const g={font:`${f._}${m.f}${f.a}`},x=t=>Array.from(t.children,(t=>t.children?[t].concat(x(t)):t)).flat().map((t=>t.shadowRoot?[t].concat(x(t.shadowRoot)):t)).flat(),v=t=>{const{nodeName:o}=t;return("INPUT"===o&&"hidden"!==t.type||"TEXTAREA"===o||"SELECT"===o||"BUTTON"===o||"A"===o&&!!t.href)&&t.tabIndex>=0&&!t.disabled};let k;const C=(t,o,e,s,i)=>{let a=[];document.removeEventListener("keydown",k),o&&(a=((t,o)=>{const e=(o?[o]:[]).concat(x(t).filter(v));return[e[0],e.pop()]})(t,s),k=o=>{const{key:s,shiftKey:n}=o,{activeElement:r}=t.shadowRoot;"Escape"===s?i():"Tab"===s&&(n&&r===e?(o.preventDefault(),a[1]?.focus()):a.filter((t=>t)).length||o.preventDefault())},document.addEventListener("keydown",k)),B(a)};let y=[],$=[];const B=t=>{y.length&&y.forEach(((t,o)=>t.removeEventListener("keydown",$[o]))),t.filter((t=>t)).length&&(y=[...t],$=t.map(((o,e)=>{const s=o=>{"Tab"===o.key&&(0===e&&o.shiftKey||1===e&&!o.shiftKey)&&(o.preventDefault(),t[0===e?1:0].focus())};return o.addEventListener("keydown",s),s})))},w="--p-modal-spacing-top",E="--p-modal-spacing-bottom",T=(0,s.u)("xl"),{primaryColor:S,contrastHighColor:D}=(0,s.C)("dark"),A="stretch-to-full-modal-width",H="clamp(16px, 7vh, 192px)",R="min(192px, 10vh)",F="footer--shadow",_=t=>t?{minWidth:"100%",maxWidth:"none",minHeight:"100%",margin:0,borderRadius:0}:{minWidth:"276px",maxWidth:"1535.5px",minHeight:"auto",margin:`var(${w},${H}) ${u.g} var(${E},${H})`,borderRadius:b.b},L=(t,o,e)=>{const s=-t+"px";return{[`&(.${A})`]:{width:`calc(100% + ${2*t}px)`,margin:`0 ${s}`},...!o&&{[`&(.${A}:first-child)`]:{marginTop:e?-t/16+"rem":s}},[`&(.${A}:last-child)`]:{marginBottom:s}}},P=(t,o,e,i,a,n,r)=>{const{primaryColor:d,backgroundColor:f}=(0,s.C)(r),{primaryColor:m,backgroundColor:x}=(0,s.C)("dark"),v=(t=>{const o=(0,s._)(t);if("boolean"==typeof o)return o;{const t=Object.entries(o),[e]=t.filter((([,t])=>t)).pop()||[],[i]=t.filter((([,t])=>!t)).pop()||[];return s.af.indexOf(e)>s.af.indexOf(i)}})(e),k=t?"moderate":"short",C=t?"in":"out",y="32px";return(0,s.g)({"@global":{":host":{overflowY:"auto",...(0,s.d)({...h.c,...h.h,...(0,s.x)(t,p.M,r,k,o)})},"::slotted":(0,s.d)((0,s.m)(L(32,a,i),(0,s.a)(e,(t=>({[`&(.${A}`]:{"&:first-child)":{borderRadius:t?0:"8px 8px 0 0"},"&:last-child)":{borderRadius:t?0:"0 0 8px 8px"}}}))))),h2:{...g,margin:0,color:d,...(0,s.B)(r,{color:m})}},"scroll-container":{display:"flex",inset:0,height:"100%",overflowY:"inherit",alignItems:"center",justifyContent:"center",flexWrap:"wrap"},root:(0,s.m)({color:d,position:"relative",boxSizing:"border-box",transform:t?"translateY(0%)":"translateY(25%)",opacity:t?1:0,transition:`${(0,s.y)("opacity",k,C)}, ${(0,s.y)("transform",k,C)}`,paddingTop:i?"2rem":y,...!n&&{paddingBottom:y},background:f,outline:s.P?"1px solid transparent":0,"&:focus::after":{content:'""',position:"fixed",border:`${s.N} solid`,pointerEvents:"none",...(0,s.a)(e,(t=>({borderRadius:t?0:"12px",borderColor:t?d:S,inset:t?0:"-4px",...(0,s.B)(r,{borderColor:S})})))},"&:not(:focus-visible)::before":{border:0},[T]:{margin:v?0:`var(${w},${R}) ${u.g} var(${E},${R})`},...(0,s.B)(r,{color:m,background:x})},(0,s.a)(e,_)),...a&&{header:{padding:`0 ${y} 8px`}},content:{...n&&{position:"relative",zIndex:0},padding:`0 ${y}`},...n&&{footer:{position:"sticky",background:f,padding:y,bottom:0,borderBottomLeftRadius:b.b,borderBottomRightRadius:b.b,...(0,s.B)(r,{background:x})},[F]:{boxShadow:`${(0,s.D)(r)?l.s:l.a} 0 -5px 10px`,clipPath:"inset(-20px 0 0 0)",...(0,s.B)(r,{boxShadow:`${l.s} 0 -5px 10px`})}},...i&&{controls:{position:"absolute",top:"8px",right:"8px",left:"8px",display:"flex",justifyContent:"flex-end",zIndex:1},dismiss:{border:`2px solid ${f}`,borderRadius:"4px",background:f,...(0,c.h)({"&:hover":{background:D,borderColor:D}}),...(0,s.B)(r,{background:x,borderColor:x})}}})},M={open:s.A.boolean,disableCloseButton:s.A.boolean,dismissButton:s.A.boolean,disableBackdropClick:s.A.boolean,heading:s.A.string,backdrop:s.A.oneOf(s.ag),fullscreen:s.A.breakpoint("boolean"),aria:s.A.aria(["aria-label"]),theme:s.A.oneOf(d.T)},O=class{constructor(t){(0,s.r)(this,t),this.close=(0,s.E)(this,"close",3),this.dismiss=(0,s.E)(this,"dismiss",3),this.onSlotChange=()=>{this.open&&setTimeout((()=>{this.updateFocusTrap(!0),this.dialog.focus()}))},this.onScroll=(0,s.ac)(100,(()=>{const{scrollHeight:t,clientHeight:o,scrollTop:e}=this.scrollContainerEl;if(t>o){const s=t-o>e+parseInt(getComputedStyle(this.dialog).marginBottom,10);this.footer.classList.toggle(F,s)}})),this.onMouseDown=t=>{t.composedPath()[0]!==this.scrollContainerEl||((t,o)=>{if(t.scrollHeight>t.offsetHeight){const e=t.scrollWidth===t.offsetWidth;return o.clientX>t.clientWidth-(e?17:0)}return!1})(this.scrollContainerEl,t)||this.dismissModal()},this.dismissModal=()=>{this.hasDismissButton&&(this.dismiss.emit(),this.close.emit())},this.open=!1,this.disableCloseButton=void 0,this.dismissButton=!0,this.disableBackdropClick=!1,this.heading=void 0,this.backdrop="blur",this.fullscreen=!1,this.aria=void 0,this.theme="light"}get hasDismissButton(){return!this.disableCloseButton&&this.dismissButton}openChangeHandler(t){this.updateFocusTrap(t),t?this.focusedElBeforeOpen=document.activeElement:this.focusedElBeforeOpen?.focus()}componentShouldUpdate(t,o){return(0,s.h)(t,o)}componentDidLoad(){this.open&&this.updateFocusTrap(!0)}componentDidRender(){if(this.open){for(let t=0;t<4;t++)setTimeout((()=>this.scrollContainerEl.scrollTop=0),5*t);this.hasFooter&&this.onScroll(),this.dialog.focus()}}disconnectedCallback(){this.updateFocusTrap(!1)}render(){var t,o,e;(0,s.v)(this,M),(0,n.w)(this,"disableCloseButton","Please use dismissButton prop instead."),this.hasHeader=(0,a.h)(this.host,this.heading),this.hasFooter=(0,i.h)(this.host,"footer"),this.open&&(t=this.host,o=this.hasHeader,e=this.aria,o||e||(0,s.c)(`heading or aria has to be set via property for component ${(0,s.j)(t)} in order to ensure accessibility.`)),(0,s.e)(this.host,P,this.open,this.backdrop,this.fullscreen,this.hasDismissButton,this.hasHeader,this.hasFooter,this.theme);const r=(0,s.k)(this.host);return(0,s.f)(s.L,{key:"79d7b429e16590289cf8c5a52cc9cd0878c984e2"},(0,s.f)("div",{key:"dd25805bde7669f6bc57646e05c2dc14ce5eff56",class:"scroll-container",onScroll:this.hasFooter&&this.onScroll,onMouseDown:!this.disableBackdropClick&&this.onMouseDown,ref:t=>this.scrollContainerEl=t},(0,s.f)("div",{key:"6c2ca8deb50da182d8c798d81eea712e7a0c038d",class:"root",role:"dialog",...(0,s.G)({"aria-modal":!0,"aria-label":this.heading,"aria-hidden":!this.open,...(0,s.G)(this.aria)}),tabIndex:-1,inert:!this.open||null,ref:t=>this.dialog=t},this.hasDismissButton&&(0,s.f)("div",{class:"controls"},(0,s.f)(r.pButtonPure,{class:"dismiss",type:"button",ref:t=>this.dismissBtn=t,hideLabel:!0,icon:"close",onClick:this.dismissModal,theme:this.theme},"Dismiss modal")),this.hasHeader&&(0,s.f)("div",{class:"header"},this.heading?(0,s.f)("h2",null,this.heading):(0,s.f)("slot",{name:"heading"})),(0,s.f)("div",{key:"50a5b77ef86825b5335a2676268750d96389089e",class:"content"},(0,s.f)("slot",{key:"dc7a1737d730a9121d1bcfbe0cbcb2c98993a40d",onSlotchange:this.onSlotChange})),this.hasFooter&&(0,s.f)("div",{class:"footer",ref:t=>this.footer=t},(0,s.f)("slot",{name:"footer"})))))}updateFocusTrap(t){C(this.host,t,this.dialog,!this.disableCloseButton&&this.dismissBtn,this.dismissModal),(0,r.s)(t)}get host(){return(0,s.i)(this)}static get watchers(){return{open:["openChangeHandler"]}}}},2048:(t,o,e)=>{e.d(o,{s:()=>s});const s=t=>{document.body.style.overflow=t?"hidden":""}},6339:(t,o,e)=>{e.d(o,{T:()=>s});const s=["light","dark","auto"]},5816:(t,o,e)=>{e.d(o,{w:()=>a});var s=e(4026),i=e(7442);const a=(t,o,e)=>{const a=t[o];null!=a&&(0,i.c)((0,s.g)(t.host,o),e||"")}}}]);